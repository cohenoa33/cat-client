(this["webpackJsonpcat-client"]=this["webpackJsonpcat-client"]||[]).push([[0],{15:function(e,t,c){},17:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),a=c(8),r=c.n(a),s=(c(15),c(3)),d=c(7),o=c.n(d),l=c(9),u=c(2),j=(c(17),c(0)),h=Object(n.createContext)({user:{}});function b(e){var t=e.children,c={user:e.user};return Object(j.jsx)(h.Provider,{value:c,children:t})}var f=c(10);function g(e){var t,c=[],n=Object(f.a)(e);try{var i=function(){var e=t.value,n=e.created.slice(0,10),i=c.find((function(e){return e.date===n}));i?i.feedings.push(e):c.push({date:n,feedings:[e]})};for(n.s();!(t=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}return c.sort((function(e,t){return t.date.localeCompare(e.date)}))}function p(e,t){var c=Object(s.a)(e),n=(new Date).toISOString().slice(0,10),i=e.find((function(e){return e.date===n}));return i?i.feedings.push(t):c.push({date:n,feedings:[t]}),c}function O(e,t){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Object(s.a)(e).filter((function(e){return e.date===t.created.slice(0,10)})),i=n[0].feedings.filter((function(e){return e._id!==t._id})),a=Object(s.a)(e).filter((function(e){return e.date!==t.created.slice(0,10)}));return c&&i.push(t),a.push({date:t.created.slice(0,10),feedings:i.sort((function(e,t){return e.created.localeCompare(t.created)}))}),a}function v(e){return e.reduce((function(e,t){return e+t.weight}),0)}function x(e){var t=e.children,c=e.viewBox;return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:20,height:20,x:"0",y:"0",viewBox:c,children:t})}var m=Object(j.jsx)(x,{viewBox:"0 0 352.62 352.62",children:Object(j.jsx)("g",{children:Object(j.jsx)("g",{xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("path",{d:"M337.222,22.952c-15.912-8.568-33.66,7.956-44.064,17.748c-23.867,23.256-44.063,50.184-66.708,74.664   c-25.092,26.928-48.348,53.856-74.052,80.173c-14.688,14.688-30.6,30.6-40.392,48.96c-22.032-21.421-41.004-44.677-65.484-63.648   c-17.748-13.464-47.124-23.256-46.512,9.18c1.224,42.229,38.556,87.517,66.096,116.28c11.628,12.24,26.928,25.092,44.676,25.704   c21.42,1.224,43.452-24.48,56.304-38.556c22.645-24.48,41.005-52.021,61.812-77.112c26.928-33.048,54.468-65.485,80.784-99.145   C326.206,96.392,378.226,44.983,337.222,22.952z M26.937,187.581c-0.612,0-1.224,0-2.448,0.611   c-2.448-0.611-4.284-1.224-6.732-2.448l0,0C19.593,184.52,22.653,185.132,26.937,187.581z",className:"save-path"})})})}),w=Object(j.jsx)(x,{viewBox:"0 0 512 512",children:Object(j.jsx)("g",{children:Object(j.jsx)("g",{xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("g",{children:Object(j.jsxs)("g",{children:[Object(j.jsx)("path",{d:"M352.459,220c0-11.046-8.954-20-20-20h-206c-11.046,0-20,8.954-20,20s8.954,20,20,20h206     C343.505,240,352.459,231.046,352.459,220z",className:"back-path"}),Object(j.jsx)("path",{d:"M126.459,280c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20H251.57c11.046,0,20-8.954,20-20c0-11.046-8.954-20-20-20     H126.459z",className:"back-path"}),Object(j.jsx)("path",{d:"M173.459,472H106.57c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h245.889c22.056,0,40,17.944,40,40v123     c0,11.046,8.954,20,20,20c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80H106.57c-44.112,0-80,35.888-80,80v352     c0,44.112,35.888,80,80,80h66.889c11.046,0,20-8.954,20-20C193.459,480.954,184.505,472,173.459,472z",className:"back-path"}),Object(j.jsx)("path",{d:"M467.884,289.572c-23.394-23.394-61.458-23.395-84.837-0.016l-109.803,109.56c-2.332,2.327-4.052,5.193-5.01,8.345     l-23.913,78.725c-2.12,6.98-0.273,14.559,4.821,19.78c3.816,3.911,9,6.034,14.317,6.034c1.779,0,3.575-0.238,5.338-0.727     l80.725-22.361c3.322-0.92,6.35-2.683,8.79-5.119l109.573-109.367C491.279,351.032,491.279,312.968,467.884,289.572z      M333.776,451.768l-40.612,11.25l11.885-39.129l74.089-73.925l28.29,28.29L333.776,451.768z M439.615,346.13l-3.875,3.867     l-28.285-28.285l3.862-3.854c7.798-7.798,20.486-7.798,28.284,0C447.399,325.656,447.399,338.344,439.615,346.13z",className:"back-path"}),Object(j.jsx)("path",{d:"M332.459,120h-206c-11.046,0-20,8.954-20,20s8.954,20,20,20h206c11.046,0,20-8.954,20-20S343.505,120,332.459,120z",className:"back-path"})]})})})})}),y=Object(j.jsx)(x,{viewBox:"0 0 512 512",children:Object(j.jsx)("g",{children:Object(j.jsxs)("g",{xmlns:"http://www.w3.org/2000/svg",children:[Object(j.jsx)("path",{d:"m424 64h-88v-16c0-26.467-21.533-48-48-48h-64c-26.467 0-48 21.533-48 48v16h-88c-22.056 0-40 17.944-40 40v56c0 8.836 7.164 16 16 16h8.744l13.823 290.283c1.221 25.636 22.281 45.717 47.945 45.717h242.976c25.665 0 46.725-20.081 47.945-45.717l13.823-290.283h8.744c8.836 0 16-7.164 16-16v-56c0-22.056-17.944-40-40-40zm-216-16c0-8.822 7.178-16 16-16h64c8.822 0 16 7.178 16 16v16h-96zm-128 56c0-4.411 3.589-8 8-8h336c4.411 0 8 3.589 8 8v40c-4.931 0-331.567 0-352 0zm313.469 360.761c-.407 8.545-7.427 15.239-15.981 15.239h-242.976c-8.555 0-15.575-6.694-15.981-15.239l-13.751-288.761h302.44z",className:"delete-path"}),Object(j.jsx)("path",{d:"m256 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z",className:"delete-path"}),Object(j.jsx)("path",{d:"m336 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z",className:"delete-path"}),Object(j.jsx)("path",{d:"m176 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z",className:"delete-path"})]})})}),C=Object(j.jsx)(x,{viewBox:"0 0 477.862 477.862",children:Object(j.jsx)("g",{children:Object(j.jsx)("g",{xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("g",{children:Object(j.jsx)("path",{d:"M187.722,102.856V17.062C187.719,7.636,180.076-0.003,170.65,0c-4.834,0.001-9.44,2.053-12.676,5.644L4.375,176.311    c-5.617,6.256-5.842,15.67-0.529,22.187l153.6,187.733c5.968,7.295,16.72,8.371,24.016,2.403c3.952-3.233,6.249-8.066,6.26-13.172    v-85.043c134.827,4.386,218.965,62.02,256.888,175.787c2.326,6.96,8.841,11.653,16.179,11.656c0.92,0.003,1.84-0.072,2.748-0.222    c8.256-1.347,14.319-8.479,14.319-16.845C477.855,259.818,356.87,112.174,187.722,102.856z",className:"back-path"})})})})});function N(e){var t=e.feeding,c=e.deleteFeeding,i=e.updateFeeding,a=Object(n.useState)(!1),r=Object(u.a)(a,2),s=r[0],d=r[1],o=Object(n.useState)(t.weight),l=Object(u.a)(o,2),h=l[0],b=l[1],f=Object(n.useState)(t.feedingType),g=Object(u.a)(f,2),p=g[0],O=g[1],v=Object(n.useState)(t.foodType),x=Object(u.a)(v,2),N=x[0],F=x[1];function z(e){var t=e.target.name,c=e.target.value;"weight"===t&&b(+c),"type"===t&&O(c),"food"===t&&F(c)}return t?s?Object(j.jsxs)("li",{children:[Object(j.jsx)("input",{type:"number",min:.5,step:"0.5",defaultValue:h,name:"weight",onClick:z})," ","g @",S(t.created)," ",Object(j.jsxs)("select",{name:"type",onChange:z,children:[Object(j.jsx)("option",{value:"type",children:p}),["ball","board","auto","bowl"].filter((function(e){return e!==p})).sort((function(e,t){return e.localeCompare(t)})).map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},"type-"+t+"-"+e)}))]}),Object(j.jsx)("button",{className:"edit-button",role:"img","aria-label":"Save",onClick:function(){i(t._id,h,p,N),d(!s)},children:m}),Object(j.jsx)("button",{className:"edit-button",onClick:function(){return d(!s)},role:"img","aria-label":"Back",children:C})]},t._id):Object(j.jsxs)("li",{children:[t.weight,"g @",S(t.created)," (",t.feedingType,")",Object(j.jsx)("button",{className:"delete-button",role:"img","aria-label":"Delete",onClick:function(){return c(t._id)},children:y}),Object(j.jsx)("button",{className:"edit-button",onClick:function(){return d(!s)},role:"img","aria-label":"Edit",children:w})]},t._id):Object(j.jsx)(j.Fragment,{})}function S(e){var t=new Date(e),c=t.getHours(),n=t.getMinutes(),i=c>=12?"PM":"AM";return(c=(c%=12)||12)+":"+(n<10?"0"+n:n.toString())+" "+i}function F(e){var t=e.feedings,c=e.date,n=e.deleteFeeding,i=e.updateFeeding;return t?Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),"Date: ",c," Total: ",v(t),"g",Object(j.jsx)("ul",{children:t.map((function(e){return Object(j.jsx)(N,{feeding:e,deleteFeeding:n,updateFeeding:i},e._id)}))}),Object(j.jsx)("br",{})]}):Object(j.jsx)(j.Fragment,{})}function z(e){var t=e.addFeeding,c=e.wight,n=e.type;return Object(j.jsxs)("button",{className:"add-feeding-button",onClick:function(){return t(c,n)},children:["Add ",c,"g",Object(j.jsx)("br",{})," (",n,")"]})}function T(e){var t=e.addFeeding;return Object(j.jsx)("div",{children:k.map((function(e,c){return Object(j.jsx)(z,{addFeeding:t,wight:e.wight,type:e.type},"button-"+c+"-"+e.type)}))})}var k=[{wight:5,type:"ball"},{wight:10,type:"ball"},{wight:5,type:"board"},{wight:10,type:"board"},{wight:5.5,type:"auto"},{wight:11,type:"auto"}],M="http://localhost:8000/api";var B=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),c=t[0],i=t[1],a=Object(n.useState)(),r=Object(u.a)(a,2),d=r[0],h=r[1],f=Object(n.useState)([]),v=Object(u.a)(f,2),x=v[0],m=v[1];function w(e,t,c){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"dry",i={id:e,foodType:n,feedingType:c,weight:t};fetch("".concat(M,"/feedings/update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){var t=O(Object(s.a)(x),e,!0);m(t)})).catch((function(e){return console.log(e)}))}function y(e){var t={id:e};fetch("".concat(M,"/feedings/delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){var t=O(Object(s.a)(x),e);m(t)})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat(M,"/pets/").concat("60e34cbc83f8365ed1c84250"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){h({name:e.name,id:e._id}),i({id:e.user}),m(g(e.feedings))})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsx)(b,{user:c,children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(T,{addFeeding:function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dry",n={foodType:c,feedingType:t,weight:e,pet:null===d||void 0===d?void 0:d.id};fetch("".concat(M,"/feedings/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){var t=p(x,e);m(t)})).catch((function(e){return console.log(e)}))}}),Object(j.jsx)("br",{}),x.map((function(e,t){return Object(j.jsx)(F,{feedings:e.feedings,date:e.date,deleteFeeding:y,updateFeeding:w},"day-"+t+"-"+e.date)}))]})})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,21)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),a(e),r(e)}))};c(19);r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(B,{})}),document.getElementById("root")),_()}},[[20,1,2]]]);
//# sourceMappingURL=main.2c98172b.chunk.js.map